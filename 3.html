<!DOCTYPE html><html><head><script>
                            (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-N6X882T');
              </script><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><meta name="description" content="기술을 익히고 공유합니다."/><title>클래스 만들때 빌더 vs 정적 팩토리 메서드</title><meta name="next-head-count" content="5"/><link rel="preload" href="/_next/static/css/654792c85b915c123aa8.css" as="style"/><link rel="stylesheet" href="/_next/static/css/654792c85b915c123aa8.css" data-n-g=""/><link rel="preload" href="/_next/static/css/bd0da73fde487548ba65.css" as="style"/><link rel="stylesheet" href="/_next/static/css/bd0da73fde487548ba65.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-99ad68a3f1273cf1678f.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.a6402fb70cc88f6f61b0.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.7af247b43e14ac66e88e.js" as="script"/><link rel="preload" href="/_next/static/chunks/f658db493258337e4ee0c0d6b56e2d9169f0c93b.dce0124c09b48dc82c4a.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-b0db3a5d0ee96813b162.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/%5Bid%5D-45f1c49066badc2e4b36.js" as="script"/></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N6X882T" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__next"><header style="border-bottom:1px solid #eee"><div class="wrapper"><a class="SiteHeader_wrap__1H66r" href="/"><span>정년퇴직을 꿈꾸는 개발자</span></a></div></header><div class="pageContent"><div class="wrapper"><div class="CategoryBanner_wrap__gIxAp"><div class="CategoryBanner_bgItem__1seew"></div><div class="CategoryBanner_dimmed__1zVrT"><div class="CategoryBanner_contentLayout__3RUlu"><div class="CategoryBanner_smallText__ty9Ld">2021. 01. 18.</div><div class="CategoryBanner_text__1mE08">클래스 만들때 빌더 vs 정적 팩토리 메서드</div></div></div></div><section class="content-layout"><div class="PostBody_wrap__24yP1"><div class="PostBody_markdown__2ts2T"><h2>시작하면서</h2>
<p>몇일전 아는 동생에게서 아래와 같은 질문이 들어왔습니다.</p>
<p><img src="/assets/3/img_1.jpg" alt="img">
그래서 동생한테 제 기준을 설명했는데 이 설명한 내용을 블로그에 써보도록 하겠습니다.</p>
<p>일반적으로 클래스를 이용해서 객체를 만들때는 생성자를 사용합니다.</p>
<p>그 외에 방법으로 자주 쓰이는 빌더와 정적팩토리메서드를 저는 언제 사용하는지 설명드리도록 하겠습니다.</p>
<h2>빌더</h2>
<blockquote>
<p>effective java 규칙2<br>
생성자 인자가 많을때는 Builder 패턴 적용을 고려하라</p>
</blockquote>
<p>저는 정산시스템을 개발하다보니 금액을 나타내는 필드를 여러개 사용하고 있습니다.<br>
그러다보니 하나의 클래스에 여러개의 금액필드를 생성자로 넣게 되는 경우가 많아집니다.<br>
아래와 같이 말이죠.</p>
<div class="remark-highlight"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Settle</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">public</span> <span class="token class-name">Settle</span><span class="token punctuation">(</span><span class="token keyword">long</span> a<span class="token punctuation">,</span> <span class="token keyword">long</span> b<span class="token punctuation">,</span> <span class="token keyword">long</span> c<span class="token punctuation">,</span> <span class="token keyword">long</span> d<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> a<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">=</span> b<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>c <span class="token operator">=</span> c<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>d <span class="token operator">=</span> d<span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">new</span> <span class="token class-name">Settle</span><span class="token punctuation">(</span><span class="token number">100_000L</span><span class="token punctuation">,</span> <span class="token number">10_000L</span><span class="token punctuation">,</span> <span class="token number">200_000L</span><span class="token punctuation">,</span> <span class="token number">100_000L</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>여기에는 몇개의 문제가 있습니다.</p>
<ol>
<li>new Settle 을 호출한 부분에서 필드들의 타입이 같으니 어떤 필드가 뭘 의미하는지 쉽게 알수 없습니다.</li>
<li>불필요한 필드가 있을시 null 을 넣거나 새로 생성자를 만들어야합니다.</li>
<li>필드가 추가 된다면 생성자를 호출하는 모든 클래스를 수정하거나 필드가 변경된 생성자를 하나 더 만들어야합니다.</li>
</ol>
<p>이러한 문제들을 빌더를 사용하면 싹 해결이 됩니다.</p>
<p>저는 몇년전까지만 해도 빌더를 사용하지 않았습니다.<br>
이유는 빌더객체를 만드는데 오버헤드가 컸고 그동안 만들었던 것들은 필드가 그렇게 많지 않았기때문이였습니다.</p>
<p>지금은 필드가 많던 적던 빌더를 자주 사용하는 편입니다.<br>
이유는 Lombok 을 사용하면 빌더를 편하게 만들수 있기 때문입니다.</p>
<div class="remark-highlight"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Settle</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token annotation punctuation">@Builder</span>
    <span class="token keyword">private</span> <span class="token class-name">Settle</span><span class="token punctuation">(</span><span class="token keyword">long</span> a<span class="token punctuation">,</span> <span class="token keyword">long</span> b<span class="token punctuation">,</span> <span class="token keyword">long</span> c<span class="token punctuation">,</span> <span class="token keyword">long</span> d<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> a<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">=</span> b<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>c <span class="token operator">=</span> c<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>d <span class="token operator">=</span> d<span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token class-name">Settle</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token number">100_000L</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token number">10_000L</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token class-name">Settle</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token number">100_000L</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token number">10_000L</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">c</span><span class="token punctuation">(</span><span class="token number">200_000L</span><span class="token punctuation">)</span> 
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>저를 비롯한 팀에서는 클래스에 빌더를 선언하지 않고 생성자에 선언합니다.<br>
이유로는 저희는 테스트에서 사용하는 테스트 빌더<br>
그리고 프로덕트에서 사용하는 빌더 2종류를 만들어서 사용하기 때문입니다.</p>
<blockquote>
<p>클래스에 빌더를 작성하면 암묵적으로 @AllArgsConstructor private 로 생성</p>
</blockquote>
<div class="remark-highlight"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Settle</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token annotation punctuation">@Builder</span>
    <span class="token keyword">private</span> <span class="token class-name">Settle</span><span class="token punctuation">(</span><span class="token keyword">long</span> a<span class="token punctuation">,</span> <span class="token keyword">long</span> b<span class="token punctuation">,</span> <span class="token keyword">long</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> a<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">=</span> b<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>c <span class="token operator">=</span> c<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token annotation punctuation">@Builder</span><span class="token punctuation">(</span>builderClassName<span class="token operator">=</span><span class="token string">"TestBuilder"</span><span class="token punctuation">,</span> builderMethodName<span class="token operator">=</span><span class="token string">"testBuilder"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Settle</span><span class="token punctuation">(</span><span class="token keyword">long</span> a<span class="token punctuation">,</span> <span class="token keyword">long</span> b<span class="token punctuation">,</span> <span class="token keyword">long</span> c<span class="token punctuation">,</span> <span class="token keyword">long</span> d<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> a<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">=</span> b<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>c <span class="token operator">=</span> c<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>d <span class="token operator">=</span> d<span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token class-name">Settle</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token number">100_000L</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token number">10_000L</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token class-name">Settle</span><span class="token punctuation">.</span><span class="token function">testBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token number">100_000L</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token number">10_000L</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">c</span><span class="token punctuation">(</span><span class="token number">200_000L</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token number">100_000L</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>테스트빌더와 프로덕트빌더를 따로 만든 이유는 빌더라고 해서 모든 필드에 열려있으면<br>
실제 프로덕트에서 하는 일들이 뭔지 알기 쉽지가 않습니다.<br>
그래서 최소한의 필드로 열어두고 필요할때마다 필드를 추가하는 방식을 사용합니다.</p>
<h2>정적 팩토리 메서드</h2>
<blockquote>
<p>effective java 규칙1<br>
생성자 대신 정적 팩토리 메서드를 사용할 수 없는지 생각해 보라.</p>
</blockquote>
<p>생성자로만 그리고 빌더로만 사용하기에는 아쉬울때가 있습니다.<br>
저는 외부에서 호출하는것들에는 최소한의 인자만 사용하는게 좋다고 생각합니다.</p>
<p>예를 들면 아래와 같은 클래스가 있다고 합시다.</p>
<div class="remark-highlight"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Order</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">OrderStatus</span> status<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">LocalDate</span> orderDate<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> orderNo<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">long</span> price<span class="token punctuation">;</span>
            
    <span class="token comment">// 생성자 생략</span>
    <span class="token comment">// 빌더 생략</span>
    <span class="token keyword">enum</span> <span class="token class-name">OrderStatus</span> <span class="token punctuation">{</span>
        PAY<span class="token punctuation">,</span>
        DELIVERY<span class="token punctuation">,</span>
        DONE<span class="token punctuation">,</span>
        CANCEL<span class="token punctuation">,</span>
        RETURN
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>외부에서 아래와 같이 사용할수 있습니다.</p>
<div class="remark-highlight"><pre class="language-java"><code class="language-java"><span class="token keyword">new</span> <span class="token class-name">Order</span><span class="token punctuation">(</span>PAY<span class="token punctuation">,</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"20210118001"</span><span class="token punctuation">,</span> <span class="token number">100_000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">Order</span><span class="token punctuation">(</span>CANCEL<span class="token punctuation">,</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"20210118001"</span><span class="token punctuation">,</span> <span class="token number">100_000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 혹은</span>
<span class="token class-name">Order</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span>PAY<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">orderDate</span><span class="token punctuation">(</span><span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">orderNo</span><span class="token punctuation">(</span><span class="token string">"20210118001"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">price</span><span class="token punctuation">(</span><span class="token number">100_000L</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Order</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span>CANCEL<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">orderDate</span><span class="token punctuation">(</span><span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">orderNo</span><span class="token punctuation">(</span><span class="token string">"20210118001"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">price</span><span class="token punctuation">(</span><span class="token number">100_000L</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>생성자든 빌더든 정확한 의도를 알기가 쉽지 않습니다.<br>
물론 빌더의 이름을 넣을순 있겠지만 매번 비슷한 필드로 생성자를 만들려면<br>
인자 순서를 변경하는 꼼수를 부릴수 밖에 없습니다.<br>
그리고 클래스 내부에 있는 enum 을 호출하는곳에서 사용하려면 Order.OrderStatus.PAY 같이 작성해야합니다.</p>
<p>이때 정적팩토리 메서드를 사용해주면 아래와 같이 변경할 수 있습니다.</p>
<div class="remark-highlight"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Order</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">OrderStatus</span> status<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">LocalDate</span> orderDate<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> orderNo<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">long</span> price<span class="token punctuation">;</span>

    <span class="token comment">// 빌더 여기 예제에서는 빌더 accessLevel 도 PRIVATE 하게 가능</span>
    
    
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token function">payOf</span><span class="token punctuation">(</span><span class="token class-name">LocalDate</span> orderDate<span class="token punctuation">,</span> <span class="token class-name">String</span> orderNo<span class="token punctuation">,</span> <span class="token keyword">long</span> price<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Order</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span>PAY<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">orderDate</span><span class="token punctuation">(</span>orderDate<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">orderNo</span><span class="token punctuation">(</span>orderNo<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">price</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token function">cancelOf</span><span class="token punctuation">(</span><span class="token class-name">Order</span> order<span class="token punctuation">,</span> <span class="token class-name">LocalDate</span> cancelDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Order</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span>CANCEL<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">orderDate</span><span class="token punctuation">(</span>cancelDate<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">orderNo</span><span class="token punctuation">(</span>order<span class="token punctuation">.</span>orderNo<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">price</span><span class="token punctuation">(</span>order<span class="token punctuation">.</span>price<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">enum</span> <span class="token class-name">OrderStatus</span> <span class="token punctuation">{</span>
        PAY<span class="token punctuation">,</span>
        DELIVERY<span class="token punctuation">,</span>
        DONE<span class="token punctuation">,</span>
        CANCEL<span class="token punctuation">,</span>
        RETURN
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>외부에서 아래와 같이 사용할수 있습니다.</p>
<div class="remark-highlight"><pre class="language-java"><code class="language-java"><span class="token class-name">Order</span><span class="token punctuation">.</span><span class="token function">payOf</span><span class="token punctuation">(</span><span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"20210118001"</span><span class="token punctuation">,</span> <span class="token number">100_000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Order</span><span class="token punctuation">.</span><span class="token function">cancelOf</span><span class="token punctuation">(</span>order<span class="token punctuation">,</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>조금 더 이름으로 확연히 구분이 되고 enum 과 builder를 외부에 노출을 안시킬 수 있습니다.</p>
<p>또한 변경불가능한 객체를 재사용하는 용도로 사용가능합니다.<br>
예를 들면 외부에 빈컬렉션을 제공할시</p>
<div class="remark-highlight"><pre class="language-java"><code class="language-java"><span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&#x3C;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">emptyList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>위에 대신 밑에를 사용함으로써 객체를 새로 생성 안하고 재사용이 가능합니다.<br>
이걸 이용해서 다른 객체들도 재사용가능하게 만들수 있습니다. (중요한건 불변객체여야합니다.)</p>
<h2>둘중에 뭘 써야하나?</h2>
<p>전 둘다 사용하고 있습니다.</p>
<div class="remark-highlight"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@Entity</span> <span class="token comment">// 도메인 계층, 상위 계층</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Settle</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>

<span class="token comment">// 하위 계층</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SettleDto</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">OrderStatus</span> status<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">LocalDate</span> orderDate<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> orderNo<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">long</span> price<span class="token punctuation">;</span>

    <span class="token comment">// 빌더</span>
    
    <span class="token comment">// entity -> dto (1)</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">SettleDto</span> <span class="token function">from</span><span class="token punctuation">(</span><span class="token class-name">Settle</span> order<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">SettleDto</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span>order<span class="token punctuation">.</span><span class="token function">getA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span>order<span class="token punctuation">.</span><span class="token function">getB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">c</span><span class="token punctuation">(</span>order<span class="token punctuation">.</span><span class="token function">getC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>order<span class="token punctuation">.</span><span class="token function">getD</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 
    <span class="token comment">// dto -> entity (2)</span>
    <span class="token keyword">public</span> <span class="token class-name">Settle</span> <span class="token function">toEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Settle</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">b</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">c</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div>
<p>하위(dto) 계층에서는 상위(entity) 계층을 알 수 있으니 (1) 처럼 팩토리메서드를 사용하고<br>
상위(entity) 계층에서는 하위(dto) 계층을 알 수 없으니 (2) 처럼 하위 계층에서 빌더로 구현합니다.<br>
(2) 같은 경우에는 별도의 팩토리클래스를 만들어서 사용하시는 분들도 계신데<br>
저는 일단 DTO에서 해당 역할을 하게 했습니다.<br>
팩토리 클래스에서도 빌더를 사용하는것은 똑같을것 같습니다.</p>
<p>그리고 그 외에 인자가 4개가 넘어가면 클래스로 넘겨서 사용할수 있는지 먼저 체크를 하고<br>
딱히 묶을수 있는 클래스가 없다고 한다면 빌더를 사용했습니다.</p>
<h2>결론</h2>
<p>불변성을 띄며 캐시를 해도 되는가?<br>
yes -> 정적 팩토리 메서드<br>
no -> 아래 문항으로</p>
<p>불필요한 클래스 생성이나 계층의 역전없이 인자를 3개 이하로 줄일수 있는가?<br>
yes -> 정적 팩토리 메서드<br>
no -> 빌더</p>
<p>설명한걸 결론짓기가 매우 난해하네요.<br>
다른 분들은 어떻게 하고 계신지 궁금합니다.</p>
</div></div></section></div></div><footer class="SiteFooter_siteFooter__1mQRw"><div class="wrapper">© hjlee83</div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"3","title":"클래스 만들때 빌더 vs 정적 팩토리 메서드","description":"클래스를 만들떄 빌더와 정적 팩토리 메서드 어떤걸 사용하시나요? 제 생각을 얘기해보겠습니다.","date":"2021. 01. 18.","category":["Java","Lombok"],"content":"\u003ch2\u003e시작하면서\u003c/h2\u003e\n\u003cp\u003e몇일전 아는 동생에게서 아래와 같은 질문이 들어왔습니다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/3/img_1.jpg\" alt=\"img\"\u003e\n그래서 동생한테 제 기준을 설명했는데 이 설명한 내용을 블로그에 써보도록 하겠습니다.\u003c/p\u003e\n\u003cp\u003e일반적으로 클래스를 이용해서 객체를 만들때는 생성자를 사용합니다.\u003c/p\u003e\n\u003cp\u003e그 외에 방법으로 자주 쓰이는 빌더와 정적팩토리메서드를 저는 언제 사용하는지 설명드리도록 하겠습니다.\u003c/p\u003e\n\u003ch2\u003e빌더\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003eeffective java 규칙2\u003cbr\u003e\n생성자 인자가 많을때는 Builder 패턴 적용을 고려하라\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e저는 정산시스템을 개발하다보니 금액을 나타내는 필드를 여러개 사용하고 있습니다.\u003cbr\u003e\n그러다보니 하나의 클래스에 여러개의 금액필드를 생성자로 넣게 되는 경우가 많아집니다.\u003cbr\u003e\n아래와 같이 말이죠.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-java\"\u003e\u003ccode class=\"language-java\"\u003e\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eSettle\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eSettle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003elong\u003c/span\u003e a\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003elong\u003c/span\u003e b\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003elong\u003c/span\u003e c\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003elong\u003c/span\u003e d\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ea \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e a\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eb \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e b\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ec \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e c\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ed \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e d\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eSettle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e100_000L\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e10_000L\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e200_000L\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e100_000L\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e여기에는 몇개의 문제가 있습니다.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003enew Settle 을 호출한 부분에서 필드들의 타입이 같으니 어떤 필드가 뭘 의미하는지 쉽게 알수 없습니다.\u003c/li\u003e\n\u003cli\u003e불필요한 필드가 있을시 null 을 넣거나 새로 생성자를 만들어야합니다.\u003c/li\u003e\n\u003cli\u003e필드가 추가 된다면 생성자를 호출하는 모든 클래스를 수정하거나 필드가 변경된 생성자를 하나 더 만들어야합니다.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e이러한 문제들을 빌더를 사용하면 싹 해결이 됩니다.\u003c/p\u003e\n\u003cp\u003e저는 몇년전까지만 해도 빌더를 사용하지 않았습니다.\u003cbr\u003e\n이유는 빌더객체를 만드는데 오버헤드가 컸고 그동안 만들었던 것들은 필드가 그렇게 많지 않았기때문이였습니다.\u003c/p\u003e\n\u003cp\u003e지금은 필드가 많던 적던 빌더를 자주 사용하는 편입니다.\u003cbr\u003e\n이유는 Lombok 을 사용하면 빌더를 편하게 만들수 있기 때문입니다.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-java\"\u003e\u003ccode class=\"language-java\"\u003e\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eSettle\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@Builder\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eSettle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003elong\u003c/span\u003e a\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003elong\u003c/span\u003e b\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003elong\u003c/span\u003e c\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003elong\u003c/span\u003e d\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ea \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e a\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eb \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e b\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ec \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e c\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ed \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e d\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token class-name\"\u003eSettle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ebuilder\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ea\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e100_000L\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eb\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e10_000L\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ebuild\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\n\u003cspan class=\"token class-name\"\u003eSettle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ebuilder\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ea\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e100_000L\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eb\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e10_000L\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ec\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e200_000L\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ebuild\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e저를 비롯한 팀에서는 클래스에 빌더를 선언하지 않고 생성자에 선언합니다.\u003cbr\u003e\n이유로는 저희는 테스트에서 사용하는 테스트 빌더\u003cbr\u003e\n그리고 프로덕트에서 사용하는 빌더 2종류를 만들어서 사용하기 때문입니다.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e클래스에 빌더를 작성하면 암묵적으로 @AllArgsConstructor private 로 생성\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-java\"\u003e\u003ccode class=\"language-java\"\u003e\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eSettle\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@Builder\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eSettle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003elong\u003c/span\u003e a\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003elong\u003c/span\u003e b\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003elong\u003c/span\u003e c\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ea \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e a\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eb \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e b\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ec \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e c\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \n    \u003cspan class=\"token annotation punctuation\"\u003e@Builder\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ebuilderClassName\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"TestBuilder\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e builderMethodName\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"testBuilder\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eSettle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003elong\u003c/span\u003e a\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003elong\u003c/span\u003e b\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003elong\u003c/span\u003e c\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003elong\u003c/span\u003e d\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ea \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e a\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eb \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e b\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ec \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e c\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ed \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e d\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token class-name\"\u003eSettle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ebuilder\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ea\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e100_000L\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eb\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e10_000L\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ebuild\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\n\u003cspan class=\"token class-name\"\u003eSettle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003etestBuilder\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ea\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e100_000L\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eb\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e10_000L\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ec\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e200_000L\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ed\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e100_000L\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ebuild\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e테스트빌더와 프로덕트빌더를 따로 만든 이유는 빌더라고 해서 모든 필드에 열려있으면\u003cbr\u003e\n실제 프로덕트에서 하는 일들이 뭔지 알기 쉽지가 않습니다.\u003cbr\u003e\n그래서 최소한의 필드로 열어두고 필요할때마다 필드를 추가하는 방식을 사용합니다.\u003c/p\u003e\n\u003ch2\u003e정적 팩토리 메서드\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003eeffective java 규칙1\u003cbr\u003e\n생성자 대신 정적 팩토리 메서드를 사용할 수 없는지 생각해 보라.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e생성자로만 그리고 빌더로만 사용하기에는 아쉬울때가 있습니다.\u003cbr\u003e\n저는 외부에서 호출하는것들에는 최소한의 인자만 사용하는게 좋다고 생각합니다.\u003c/p\u003e\n\u003cp\u003e예를 들면 아래와 같은 클래스가 있다고 합시다.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-java\"\u003e\u003ccode class=\"language-java\"\u003e\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eOrder\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eOrderStatus\u003c/span\u003e status\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eLocalDate\u003c/span\u003e orderDate\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e orderNo\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token keyword\"\u003elong\u003c/span\u003e price\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n            \n    \u003cspan class=\"token comment\"\u003e// 생성자 생략\u003c/span\u003e\n    \u003cspan class=\"token comment\"\u003e// 빌더 생략\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eenum\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eOrderStatus\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        PAY\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n        DELIVERY\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n        DONE\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n        CANCEL\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n        RETURN\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e외부에서 아래와 같이 사용할수 있습니다.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-java\"\u003e\u003ccode class=\"language-java\"\u003e\u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eOrder\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ePAY\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eLocalDate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eof\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e2021\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e18\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"20210118001\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e100_000L\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eOrder\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eCANCEL\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eLocalDate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eof\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e2021\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e18\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"20210118001\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e100_000L\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e// 혹은\u003c/span\u003e\n\u003cspan class=\"token class-name\"\u003eOrder\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ebuilder\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003estatus\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ePAY\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eorderDate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eLocalDate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eof\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e2021\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e18\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eorderNo\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"20210118001\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eprice\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e100_000L\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ebuild\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token class-name\"\u003eOrder\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ebuilder\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003estatus\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eCANCEL\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eorderDate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eLocalDate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eof\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e2021\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e18\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eorderNo\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"20210118001\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eprice\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e100_000L\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ebuild\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e생성자든 빌더든 정확한 의도를 알기가 쉽지 않습니다.\u003cbr\u003e\n물론 빌더의 이름을 넣을순 있겠지만 매번 비슷한 필드로 생성자를 만들려면\u003cbr\u003e\n인자 순서를 변경하는 꼼수를 부릴수 밖에 없습니다.\u003cbr\u003e\n그리고 클래스 내부에 있는 enum 을 호출하는곳에서 사용하려면 Order.OrderStatus.PAY 같이 작성해야합니다.\u003c/p\u003e\n\u003cp\u003e이때 정적팩토리 메서드를 사용해주면 아래와 같이 변경할 수 있습니다.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-java\"\u003e\u003ccode class=\"language-java\"\u003e\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eOrder\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eOrderStatus\u003c/span\u003e status\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eLocalDate\u003c/span\u003e orderDate\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e orderNo\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token keyword\"\u003elong\u003c/span\u003e price\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token comment\"\u003e// 빌더 여기 예제에서는 빌더 accessLevel 도 PRIVATE 하게 가능\u003c/span\u003e\n    \n    \n    \u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"token function\"\u003epayOf\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eLocalDate\u003c/span\u003e orderDate\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e orderNo\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003elong\u003c/span\u003e price\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eOrder\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ebuilder\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003estatus\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ePAY\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eorderDate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eorderDate\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eorderNo\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eorderNo\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eprice\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eprice\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ebuild\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \n    \u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"token function\"\u003ecancelOf\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eOrder\u003c/span\u003e order\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eLocalDate\u003c/span\u003e cancelDate\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eOrder\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ebuilder\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003estatus\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eCANCEL\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eorderDate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecancelDate\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eorderNo\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eorder\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eorderNo\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eprice\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eorder\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eprice\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ebuild\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \n    \u003cspan class=\"token keyword\"\u003eenum\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eOrderStatus\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        PAY\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n        DELIVERY\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n        DONE\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n        CANCEL\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n        RETURN\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e외부에서 아래와 같이 사용할수 있습니다.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-java\"\u003e\u003ccode class=\"language-java\"\u003e\u003cspan class=\"token class-name\"\u003eOrder\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003epayOf\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eLocalDate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eof\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e2021\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e18\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"20210118001\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e100_000L\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token class-name\"\u003eOrder\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ecancelOf\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eorder\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eLocalDate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eof\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e2021\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e18\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e조금 더 이름으로 확연히 구분이 되고 enum 과 builder를 외부에 노출을 안시킬 수 있습니다.\u003c/p\u003e\n\u003cp\u003e또한 변경불가능한 객체를 재사용하는 용도로 사용가능합니다.\u003cbr\u003e\n예를 들면 외부에 빈컬렉션을 제공할시\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-java\"\u003e\u003ccode class=\"language-java\"\u003e\u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eArrayList\u003c/span\u003e\u003cspan class=\"token generics\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eCollections\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eemptyList\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e위에 대신 밑에를 사용함으로써 객체를 새로 생성 안하고 재사용이 가능합니다.\u003cbr\u003e\n이걸 이용해서 다른 객체들도 재사용가능하게 만들수 있습니다. (중요한건 불변객체여야합니다.)\u003c/p\u003e\n\u003ch2\u003e둘중에 뭘 써야하나?\u003c/h2\u003e\n\u003cp\u003e전 둘다 사용하고 있습니다.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-java\"\u003e\u003ccode class=\"language-java\"\u003e\u003cspan class=\"token annotation punctuation\"\u003e@Entity\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// 도메인 계층, 상위 계층\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eSettle\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e// 하위 계층\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eSettleDto\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eOrderStatus\u003c/span\u003e status\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eLocalDate\u003c/span\u003e orderDate\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e orderNo\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token keyword\"\u003elong\u003c/span\u003e price\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token comment\"\u003e// 빌더\u003c/span\u003e\n    \n    \u003cspan class=\"token comment\"\u003e// entity -\u003e dto (1)\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eSettleDto\u003c/span\u003e \u003cspan class=\"token function\"\u003efrom\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eSettle\u003c/span\u003e order\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eSettleDto\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ebuilder\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ea\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eorder\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003egetA\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eb\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eorder\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003egetB\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ec\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eorder\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003egetC\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ed\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eorder\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003egetD\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ebuild\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n \n    \u003cspan class=\"token comment\"\u003e// dto -\u003e entity (2)\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eSettle\u003c/span\u003e \u003cspan class=\"token function\"\u003etoEntity\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eSettle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ebuild\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ea\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ea\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eb\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eb\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ec\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ec\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ed\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ed\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ebuild\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003e하위(dto) 계층에서는 상위(entity) 계층을 알 수 있으니 (1) 처럼 팩토리메서드를 사용하고\u003cbr\u003e\n상위(entity) 계층에서는 하위(dto) 계층을 알 수 없으니 (2) 처럼 하위 계층에서 빌더로 구현합니다.\u003cbr\u003e\n(2) 같은 경우에는 별도의 팩토리클래스를 만들어서 사용하시는 분들도 계신데\u003cbr\u003e\n저는 일단 DTO에서 해당 역할을 하게 했습니다.\u003cbr\u003e\n팩토리 클래스에서도 빌더를 사용하는것은 똑같을것 같습니다.\u003c/p\u003e\n\u003cp\u003e그리고 그 외에 인자가 4개가 넘어가면 클래스로 넘겨서 사용할수 있는지 먼저 체크를 하고\u003cbr\u003e\n딱히 묶을수 있는 클래스가 없다고 한다면 빌더를 사용했습니다.\u003c/p\u003e\n\u003ch2\u003e결론\u003c/h2\u003e\n\u003cp\u003e불변성을 띄며 캐시를 해도 되는가?\u003cbr\u003e\nyes -\u003e 정적 팩토리 메서드\u003cbr\u003e\nno -\u003e 아래 문항으로\u003c/p\u003e\n\u003cp\u003e불필요한 클래스 생성이나 계층의 역전없이 인자를 3개 이하로 줄일수 있는가?\u003cbr\u003e\nyes -\u003e 정적 팩토리 메서드\u003cbr\u003e\nno -\u003e 빌더\u003c/p\u003e\n\u003cp\u003e설명한걸 결론짓기가 매우 난해하네요.\u003cbr\u003e\n다른 분들은 어떻게 하고 계신지 궁금합니다.\u003c/p\u003e\n"}},"__N_SSG":true},"page":"/[id]","query":{"id":"3"},"buildId":"JI4Tauw_eceWDYWmDnEPA","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-250f16924c392849df26.js"></script><script src="/_next/static/chunks/main-99ad68a3f1273cf1678f.js" async=""></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.a6402fb70cc88f6f61b0.js" async=""></script><script src="/_next/static/chunks/commons.7af247b43e14ac66e88e.js" async=""></script><script src="/_next/static/chunks/f658db493258337e4ee0c0d6b56e2d9169f0c93b.dce0124c09b48dc82c4a.js" async=""></script><script src="/_next/static/chunks/pages/_app-b0db3a5d0ee96813b162.js" async=""></script><script src="/_next/static/chunks/pages/%5Bid%5D-45f1c49066badc2e4b36.js" async=""></script><script src="/_next/static/JI4Tauw_eceWDYWmDnEPA/_buildManifest.js" async=""></script><script src="/_next/static/JI4Tauw_eceWDYWmDnEPA/_ssgManifest.js" async=""></script></body></html>